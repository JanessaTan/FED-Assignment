<!-- contact.html -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Contact ‚Äì HawkerHub</title>
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/contact.css">
  </head>
  <body>
<script src="assets/js/utils.js"></script><script src="assets/js/auth.js"></script>
<script>renderHeader('contact');</script>

<main class="container">
    <div class="contact-wrapper">
        <div class="card">
            <h2>Get in Touch</h2>
            <p class="muted">Have questions or need assistance? We're here to help!</p>
            
            <form id="contactForm">
                <div class="form-section">
                    <label>What can we help you with?</label>
                    <select id="contactReason" required>
                        <option value="">-- Select a reason --</option>
                        <option value="general">General Inquiry</option>
                        <option value="order">Order Issue</option>
                        <option value="stall">Stall Information</option>
                        <option value="technical">Technical Support</option>
                        <option value="partnership">Partnership Inquiry</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-section">
                    <h3>Your Information</h3>
                    <div class="row">
                        <div style="flex:1">
                            <label>Full Name <span class="required">*</span></label>
                            <input type="text" id="contactName" placeholder="John Tan" required>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div style="flex:1">
                            <label>Email Address <span class="required">*</span></label>
                            <input type="email" id="contactEmail" placeholder="john.tan@example.com" required>
                        </div>
                        <div style="flex:1">
                            <label>Phone Number (Optional)</label>
                            <input type="tel" id="contactPhone" placeholder="+65 8123 4567">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <label>Your Message <span class="required">*</span></label>
                    <textarea 
                        id="contactMessage" 
                        rows="6" 
                        placeholder="Please describe your inquiry or concern in detail..."
                        required
                        maxlength="1000"></textarea>
                    <small class="muted" id="contactCharCount">0/1000 characters</small>
                </div>

                <div class="form-section">
                    <label>Preferred Contact Method</label>
                    <div class="contact-method-options">
                        <label class="contact-method">
                            <input type="radio" name="contactMethod" value="email" checked>
                            <span>üìß Email</span>
                        </label>
                        <label class="contact-method">
                            <input type="radio" name="contactMethod" value="phone">
                            <span>üìû Phone</span>
                        </label>
                        <label class="contact-method">
                            <input type="radio" name="contactMethod" value="either">
                            <span>üí¨ Either</span>
                        </label>
                    </div>
                </div>

                <div class="button-group">
                    <button type="submit" class="btn">Send Message</button>
                    <button type="reset" class="btn muted">Clear Form</button>
                </div>
            </form>
        </div>

        <div class="contact-info-card card">
            <h3>Contact Information</h3>
            
            <div class="contact-info-item">
                <span class="info-icon">üìç</span>
                <div class="info-content">
                    <strong>Address</strong>
                    <p>1 Hawker Street<br>Singapore 123456</p>
                </div>
            </div>
            
            <div class="contact-info-item">
                <span class="info-icon">üìû</span>
                <div class="info-content">
                    <strong>Phone</strong>
                    <p>+65 6123 4567</p>
                </div>
            </div>
            
            <div class="contact-info-item">
                <span class="info-icon">üìß</span>
                <div class="info-content">
                    <strong>Email</strong>
                    <p>info@hawkerhub.sg</p>
                </div>
            </div>
            
            <div class="contact-info-item">
                <span class="info-icon">üïê</span>
                <div class="info-content">
                    <strong>Business Hours</strong>
                    <p>Monday - Sunday<br>8:00 AM - 10:00 PM</p>
                </div>
            </div>

            <hr>

            <div class="social-links">
    <h4>Follow Us</h4>
    <div class="social-icons">
        <a href="#" class="social-icon">
            <img src="..\img\Facebook.png" alt="Facebook" width="24" height="24">
            <span>Facebook</span>
        </a>
        <a href="#" class="social-icon">
            <img src="..\img\instagram.png" alt="Instagram" width="24" height="24">
            <span>Instagram</span>
        </a>
        <a href="#" class="social-icon">
            <img src="..\img\twitter.png" alt="Twitter" width="24" height="24">
            <span>Twitter</span>
        </a>
    </div>
</div>
        </div>
    </div>
</main>
<script>
  (function() {
    const form = $('#contactForm');
    const messageField = $('#contactMessage');
    const charCount = $('#contactCharCount');
    
    messageField.addEventListener('input', function() {
      const length = this.value.length;
      charCount.textContent = `${length}/1000 characters`;
      
      if (length > 900) {
        charCount.style.color = 'var(--warn)';
      } else {
        charCount.style.color = 'var(--muted)';
      }
    });
    
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      
      const reason = $('#contactReason').value;
      const name = $('#contactName').value.trim();
      const email = $('#contactEmail').value.trim();
      const phone = $('#contactPhone').value.trim();
      const message = messageField.value.trim();
      const method = document.querySelector('input[name="contactMethod"]:checked').value;
      
      if (!reason || !name || !email || !message) {
        alert('Please fill in all required fields.');
        return;
      }
      
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        alert('Please enter a valid email address.');
        $('#contactEmail').focus();
        return;
      }
      
      if (method === 'phone' && !phone) {
        alert('Please provide a phone number if you prefer to be contacted by phone.');
        $('#contactPhone').focus();
        return;
      }
      
      const contact = {
        reason: reason,
        name: name,
        email: email,
        phone: phone || 'Not provided',
        message: message,
        contactMethod: method,
        timestamp: new Date().toISOString()
      };
      
      const contactList = store.get('contactList', []);
      contactList.push(contact);
      store.set('contactList', contactList);
      
      alert('‚úì Thank you for contacting us! We will get back to you within 1-2 business days.');
      
      location.href = 'home.html';
    });
    
    form.addEventListener('reset', function() {
      charCount.textContent = '0/1000 characters';
      charCount.style.color = 'var(--muted)';
    });
  })();

