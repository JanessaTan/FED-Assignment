<!-- contact.html -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Contact ‚Äì HawkerHub</title>
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/contact.css">
  </head>
  <body>
    <script src="../JS/Auth.js"></script>
    <script src="../JS/contact.js"></script>
<script>renderHeader('contact');</script>

<main class="container">
    <div class="contact-wrapper">
        <div class="card">

            <div style="margin-bottom: 20px;">
                <a href="About.html" class="btn secondary">‚Üê Back to About</a>
            </div>

            <h2>Get in Touch</h2>
            <p class="muted">Have questions or need assistance? We're here to help!</p>
            
            <form id="contactForm">
                <div class="form-section">
                    <label>What can we help you with?</label>
                    <select id="contactReason" required>
                        <option value="">-- Select a reason --</option>
                        <option value="general">General Inquiry</option>
                        <option value="order">Order Issue</option>
                        <option value="stall">Stall Information</option>
                        <option value="technical">Technical Support</option>
                        <option value="partnership">Partnership Inquiry</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-section">
                    <h3>Your Information</h3>
                    <div class="row">
                        <div style="flex:1">
                            <label>Full Name <span class="required">*</span></label>
                            <input type="text" id="contactName" placeholder="John Tan" required>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div style="flex:1">
                            <label>Email Address <span class="required">*</span></label>
                            <input type="email" id="contactEmail" placeholder="john.tan@example.com" required>
                        </div>
                        <div style="flex:1">
                            <label>Phone Number (Optional)</label>
                            <input type="tel" id="contactPhone" placeholder="+65 8123 4567">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <label>Your Message <span class="required">*</span></label>
                    <textarea 
                        id="contactMessage" 
                        rows="6" 
                        placeholder="Please describe your inquiry or concern in detail..."
                        required
                        maxlength="1000"></textarea>
                </div>

                <div class="form-section">
                    <label>Preferred Contact Method</label>
                    <div class="contact-method-options">
                        <label class="contact-method">
                            <input type="radio" name="contactMethod" value="email" checked>
                            <span>üìß Email</span>
                        </label>
                        <label class="contact-method">
                            <input type="radio" name="contactMethod" value="phone">
                            <span>üìû Phone</span>
                        </label>
                        <label class="contact-method">
                            <input type="radio" name="contactMethod" value="either">
                            <span>üí¨ Either</span>
                        </label>
                    </div>
                </div>

                <div class="button-group">
                    <button type="submit" class="btn">Send Message</button>
                    <button type="reset" class="btn muted">Clear Form</button>
                </div>
            </form>
        </div>

        <div class="contact-info-card card">
            <h3>Contact Information</h3>
            
            <div class="contact-info-item">
                <span class="info-icon">üìç</span>
                <div class="info-content">
                    <strong>Address</strong>
                    <p>1 Hawker Street<br>Singapore 123456</p>
                </div>
            </div>
            
            <div class="contact-info-item">
                <span class="info-icon">üìû</span>
                <div class="info-content">
                    <strong>Phone</strong>
                    <p>+65 1234 5678</p>
                </div>
            </div>
            
            <div class="contact-info-item">
                <span class="info-icon">üìß</span>
                <div class="info-content">
                    <strong>Email</strong>
                    <a class="contact-item" href="mailto:HawkerCentre@gmail.com" aria-label="Email HawkerCentre@gmail.com">‚úâÔ∏è HawkerCentre@gmail.com</a>
                </div>
            </div>
            
            <div class="contact-info-item">
                <span class="info-icon">üïê</span>
                <div class="info-content">
                    <strong>Business Hours</strong>
                    <p>Monday - Sunday<br>8:00 AM - 10:00 PM</p>
                </div>
            </div>

            <hr>

            <div class="social-links">
    <h4>Follow Us</h4>
    <div class="social-icons">
        <a href="../Html/Dummy.html" class="social-icon">
            <img src="../img/Facebook.png" alt="Facebook" width="24" height="24">
            <span>Facebook</span>
        </a>
        <a href="../Html/Dummy.html" class="social-icon">
            <img src="../img/instagram.png" alt="Instagram" width="24" height="24">
            <span>Instagram</span>
        </a>
        <a href="../Html/Dummy.html" class="social-icon">
            <img src="../img/whatsapp.png" alt="Whatsapp" width="24" height="24">
            <span>Whatsapp</span>
        </a>
    </div>
</div>
        </div>
    </div>
</main>
<script>
  (function() {
    // Helper function
    function $(id) {
      return document.getElementById(id);
    }
    
    // Helper store
    const store = {
      set: function(key, value) {
        if (typeof value === 'object') {
          localStorage.setItem(key, JSON.stringify(value));
        } else {
          localStorage.setItem(key, value);
        }
      },
      get: function(key, defaultValue = null) {
        const value = localStorage.getItem(key);
        if (value === null) return defaultValue;
        try {
          return JSON.parse(value);
        } catch(e) {
          return value;
        }
      }
    };
    
    // Get form elements
    const form = document.getElementById('contactForm');
    const messageField = document.getElementById('contactMessage');
    
    if (!form) {
      console.error('Form not found');
      return;
    }
    
    // Form submission
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      
      const reason = $('contactReason').value;
      const name = $('contactName').value.trim();
      const email = $('contactEmail').value.trim();
      const phone = $('contactPhone').value.trim();
      const message = messageField.value.trim();
      const method = document.querySelector('input[name="contactMethod"]:checked').value;
      
      if (!reason || !name || !email || !message) {
        alert('Please fill in all required fields.');
        return;
      }
      
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        alert('Please enter a valid email address.');
        $('contactEmail').focus();
        return;
      }
      
      if (method === 'phone' && !phone) {
        alert('Please provide a phone number if you prefer to be contacted by phone.');
        $('contactPhone').focus();
        return;
      }
      
      const contact = {
        reason: reason,
        name: name,
        email: email,
        phone: phone || 'Not provided',
        message: message,
        contactMethod: method,
        timestamp: new Date().toISOString()
      };
      
      const contactList = store.get('contactList', []);
      contactList.push(contact);
      store.set('contactList', contactList);
      
      // Show success message
      alert('Thank you for contacting us! We will get back to you within 1-2 business days.');

      // Clear the form
      form.reset();
    });
  })();
</script>


